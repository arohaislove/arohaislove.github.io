name = "perspective-bot"
main = "index.js"
compatibility_date = "2024-01-01"

# Workers are deployed to *.workers.dev subdomain
# This will be available at: https://perspective-bot.zammel.workers.dev

# Cron trigger - runs every 10 minutes
[triggers]
crons = ["*/10 * * * *"]

# KV namespace for tracking replied comments
# NOTE: The namespace must be created first using:
# wrangler kv namespace create REPLIED_COMMENTS
# Then update the id below with the returned namespace ID
[[kv_namespaces]]
binding = "REPLIED_COMMENTS"
id = "YOUR_KV_NAMESPACE_ID"
# IMPORTANT: Replace YOUR_KV_NAMESPACE_ID with the actual ID after creating the namespace

# Environment variables
# Secrets are set via GitHub Actions or wrangler CLI:
# - REDDIT_CLIENT_ID
# - REDDIT_CLIENT_SECRET
# - REDDIT_USERNAME
# - REDDIT_PASSWORD
# - ANTHROPIC_API_KEY
# - REDDIT_POST_ID (add this last when ready to go live)
[vars]
# No vars needed - all sensitive data uses secrets
